---
title: 闲鱼自动化工具介绍
published: 2026-01-30
pinned: false
description: 本文介绍了工具的功能以及对应的技术
tags: [Python]
category: Python工具
licenseName: "未授权"
author: mortal
# sourceLink: "https://github.com/emn178/markdown"
draft: false
slug: xianyugongju
---

# 闲鱼监测助手 - 工具介绍

## 📖 工具概述

**闲鱼监测助手**是一款基于 Python 开发的自动化商品监控工具，专为闲鱼平台设计。通过浏览器自动化技术，实现商品搜索、筛选、监控和结果展示等功能，帮助用户高效获取目标商品信息。

- **版本**: v1.0
- **开发者**: mortal
- **适用平台**: Windows
- **开发语言**: Python 3.x

---

## ✨ 核心功能

### 1. 智能商品搜索
- **关键词搜索**: 支持自定义搜索关键词，精准定位目标商品
- **多页采集**: 自动翻页提取商品信息，最多支持 50 页
- **防重复机制**: 自动去重，避免重复采集相同商品

### 2. 高级筛选系统
- **价格区间筛选**: 设置最低价和最高价，过滤不符合预算的商品
- **关键词筛选**:
  - 必须包含词汇（搜包词汇）
  - 必须排除词汇（排除词汇）
- **时间筛选**: 支持"不限"、"最新"、"1天内"、"3天内"、"7天内"、"14天内"
- **商品类型筛选**:
  - 个人闲置
  - 转转宝
  - 验号担保
  - 包邮
  - 超赞鱼小铺
  - 全新
  - 严选
  - 转卖

### 3. 多任务管理
- **5 个独立任务**: 支持同时配置 5 个不同的监控任务
- **循环采集**: 自动定时循环采集，最低间隔 8 分钟
- **任务隔离**: 每个任务独立配置，互不干扰

### 4. 卡密授权系统
- **远程验证**: 基于云端 API 的卡密验证系统
- **机器绑定**: 一个卡密绑定一台设备，防止盗用
- **到期提醒**: 实时显示卡密剩余天数
- **数据迁移**: 自动迁移旧版本授权数据

### 5. 结果展示与导出
- **实时表格**: 采集结果实时显示在表格中
- **信息完整**: 显示商品信用标签、价格、链接
- **全屏查看**: 支持全屏模式查看采集结果
- **文件保存**: 自动保存商品链接到本地文件

### 6. 浏览器自动化
- **自动最小化**: 浏览器自动最小化到任务栏，不影响其他工作
- **弹窗拦截**: 自动关闭登录弹窗，无需人工干预
- **防检测**: 使用反爬虫检测技术，模拟真实用户行为

---

## 🛠️ 技术栈

### 核心框架
- **PySide6 (Qt6)**: 图形用户界面框架
  - 跨平台 GUI 开发
  - 丰富的控件和布局管理
  - 信号与槽机制实现事件驱动

### 浏览器自动化
- **Playwright**: 现代化的浏览器自动化工具
  - 支持 Chromium、Firefox、WebKit
  - 强大的页面操作能力
  - 自动等待和重试机制
  - 反爬虫检测能力

### 系统交互
- **pyautogui**: 键盘鼠标自动化
  - 模拟键盘输入
  - 模拟鼠标点击
  - 屏幕截图功能

- **pyperclip**: 剪贴板操作
  - 复制文本到剪贴板
  - 从剪贴板读取文本

- **pywin32**: Windows API 调用
  - 窗口管理（最小化、恢复、置顶）
  - 进程管理
  - 系统信息获取

### 网络通信
- **requests**: HTTP 请求库
  - 卡密远程验证
  - API 接口调用
  - 超时和重试机制

### 数据处理
- **json**: JSON 数据处理
  - 配置文件读写
  - 缓存数据存储
  - API 数据解析

- **hashlib**: 加密哈希
  - 机器码生成
  - 数据加密

- **uuid**: 唯一标识符
  - 机器 ID 生成
  - MAC 地址获取

---

## 🔧 核心模块详解

### 1. xianyu_scraper.py - 闲鱼爬虫引擎

**主要功能**:
- 浏览器初始化和管理
- 商品搜索和翻页
- 商品信息提取
- 筛选条件应用
- 登录弹窗拦截
- 浏览器窗口控制

**关键技术**:
- Playwright 浏览器自动化
- JavaScript 注入（弹窗拦截）
- DOM 元素定位和操作
- 页面滚动和等待
- 异常处理和重试

### 2. task_manager.py - 任务管理器

**主要功能**:
- 多任务并发管理
- 任务线程控制
- 结果实时更新
- 日志输出管理

**关键技术**:
- QThread 多线程
- Signal/Slot 信号槽机制
- 线程安全的数据传递
- 可中断的等待机制

## ⚠️ 注意事项

### 合规使用
- 本软件仅供学习和研究使用
- 请遵守闲鱼平台的服务条款
- 不得用于商业爬虫或恶意采集
- 本工具只用于个人学习不出售卡密

---

## 🙏 致谢

感谢以下开源项目的支持：
- [PySide6](https://www.qt.io/qt-for-python) - Qt for Python
- [Playwright](https://playwright.dev/) - 浏览器自动化